
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Translocation Tutorial &#8212; BAB3 (Bioimage Analysis Beginnings Broad Bootcamp) Lab Manual</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Translocation/Translocation';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/CLab_Square.png" class="logo__image only-light" alt="BAB3 (Bioimage Analysis Beginnings Broad Bootcamp) Lab Manual - Home"/>
    <script>document.write(`<img src="../_static/CLab_Square.png" class="logo__image only-dark" alt="BAB3 (Bioimage Analysis Beginnings Broad Bootcamp) Lab Manual - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to BAB3
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Labs and Exercises</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../developing_intutions.html">Day 1, Exercise 3: developing image processing intutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Piximi_ManualAnnotation/Piximi.html">Day 1, Exercise 5 - Making manual annotations with Piximi</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Additional Resources</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../slides_et_al.html">Links to slides and other course materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../links.html">Helpful links for now and the future</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bibliography.html">Bibliography</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/broadinstitute/BAB3/edit/main/docs/Translocation/Translocation.md" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/broadinstitute/BAB3/issues/new?title=Issue%20on%20page%20%2FTranslocation/Translocation.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/Translocation/Translocation.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Translocation Tutorial</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#background-information"><strong>Background information:</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#goals-of-this-exercise"><strong>Goals of this exercise:</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#materials-necessary-for-this-exercise"><strong>Materials necessary for this exercise:</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#methods-to-be-used-in-this-exercise"><strong>Methods to be used in this exercise:</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-i-using-the-cellprofiler-software-to-identify-features-and-obtain-measurements-from-cellular-images">Exercise I: Using the CellProfiler software to identify features and obtain measurements from cellular images.</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#starting-cellprofiler-and-configuring-the-input-data-for-analysis">1. <strong>Starting CellProfiler and configuring the input data for analysis</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identifying-the-nuclei-as-the-primary-objects-that-you-will-analyze">2. <strong>Identifying the nuclei as the “primary objects” that you will       analyze</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#improve-identification-of-primary-objects">3. <strong>Improve identification of primary objects</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identifying-the-cell-body-as-a-secondary-object-that-you-will-analyze">4. <strong>Identifying the cell body as a “secondary object” that you will analyze</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identifying-the-cytoplasm-as-a-tertiary-object">5. <strong>Identifying the cytoplasm as a “tertiary object”</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#measuring-the-cells-characteristics-i-e-the-object-features">6. <strong>Measuring the cells’ characteristics (i.e. the “object features”)</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#measurement-of-pixel-intensity-of-gfp-in-nuclei-and-cytoplasm"><strong>Measurement of pixel intensity of GFP in nuclei and cytoplasm:</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#measurement-of-the-correlation-of-gfp-in-nuclei-to-dna-in-nuclei"><strong>Measurement of the correlation of GFP in nuclei to DNA in nuclei:</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#measurement-of-the-ratio-of-gfp-in-cytoplasm-to-gfp-in-nuclei-since"><strong>Measurement of the ratio of GFP in cytoplasm to GFP in nuclei:</strong> Since</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-an-image-with-your-cell-and-nuclear-outlines-on-it-optional">7. <strong>Creating an image with your cell and nuclear outlines on it (optional)</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#creation-of-a-color-image-to-display-the-segmentation"><strong>Creation of a color image to display the segmentation:</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#overlaying-the-outlines-onto-the-color-image"><strong>Overlaying the outlines onto the color image:</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#saving-the-overlay-image"><strong>Saving the overlay image:</strong></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exporting-the-measurements-to-a-database">8. <strong>Exporting the measurements to a database</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-optimized-pipeline-to-automatically-analyze-all-images-generated-by-the-screening-experiment">9. <strong>Using the optimized pipeline to automatically analyze all images generated by the screening experiment</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-ii-using-the-cellprofiler-analyst-software-to-visualize-the-data-from-the-experiment-and-classify-the-cells-exposed-to-each-drug-condition-by-their-phenotype-foxo1a-gfp-subcellular-localization">Exercise II: Using the CellProfiler Analyst software to visualize the data from the experiment, and classify the cells exposed to each drug condition by their phenotype (FOXO1A-GFP subcellular localization)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizing-the-measurements-in-a-96-well-plate-layout-view">1. <strong>Visualizing the measurements in a 96-well plate layout view</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-classifier-function-of-cpa-to-distinguish-the-cells-foxo1a-gfp-subcellular-localization-phenotypes">2. <strong>Using the Classifier function of CPA to distinguish the cells’ FOXO1A-GFP subcellular localization phenotypes</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reviewing-the-rules-that-cpa-established-based-on-your-training-set-to-classify-positive-and-negative-cells">3. <strong>Reviewing the rules that CPA established (based on your training set) to classify positive and negative cells</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reviewing-the-accuracy-of-the-classification-with-the-confusion-matrix">4. <strong>Reviewing the accuracy of the classification with the confusion matrix</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#refining-the-training-set-by-sorting-more-unclassified-cells-into-the-positive-and-negative-bins">5. <strong>Refining the training set by sorting more “unclassified” cells into the “positive” and “negative” bins</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#refining-the-training-set-by-fetching-positive-and-negative-cells"><strong>Refining the training set by fetching positive and negative cells:</strong></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#classifying-all-cells-in-the-experiment">6. <strong>Classifying all cells in the experiment</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#saving-the-scores-to-the-measurement-database-for-visualization">7. <strong>Saving the scores to the measurement database for visualization</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting-the-scoring-results-to-estimate-the-lowest-dose-necessary-to-induce-fox1o-gfp-translocation">8. <strong>Plotting the scoring results, to estimate the lowest dose necessary to induce FOX1O-GFP translocation</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exporting-your-classifier-for-use-in-a-cellprofiler-pipeline">9. <strong>Exporting your classifier for use in a CellProfiler pipeline</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#to-learn-more-about-cellprofiler-please-see-our-website"><strong>To learn more about CellProfiler, please see our website:</strong></a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="translocation-tutorial">
<h1>Translocation Tutorial<a class="headerlink" href="#translocation-tutorial" title="Link to this heading">#</a></h1>
<p><strong>Image-based screening using subcellular localization of FOXO1A in osteosarcoma cells: A computer exercise using CellProfiler &amp; CellProfiler Analyst software</strong></p>
<p>Beth Cimini, Carolina Wählby, Martin Simonsson, Megan Rokop and Mark
Bray, Broad Institute</p>
<section id="background-information">
<h2><strong>Background information:</strong><a class="headerlink" href="#background-information" title="Link to this heading">#</a></h2>
<p>In this experiment, we are working with human U2OS osteosarcoma (bone
cancer) cells, in which a Forkhead-protein FOXO1A has been labeled with
GFP (Green Fluorescent Protein). In proliferating cells, FOXO1A is
localized in the cytoplasm; it is constantly moving into the nucleus,
but is transported out again by export proteins. Upon inhibition of
nuclear export, FOXO1A accumulates in the nucleus. We know that 150nM of
Wortmannin (the drug we are using as a positive control in this
experiment) inhibits transport of the FOXO1A protein from the nucleus
back out to the cytoplasm (Fig. 1). Labeling FOXO1A with GFP allows us
to visualize its subcellular localization. The goal of developing
image-based screens of this type is to aid in the search for unknown
drugs that have the same effect as Wortmannin on FOXO1A subcellular
localization (and hence may be possible treatments for osteosarcoma
patients), but possess fewer side effects than the known drugs.</p>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="../_images/Fig19.png"><img alt="../_images/Fig19.png" src="../_images/Fig19.png" style="width: 900px;" />
</a>
<figcaption>
<p><span class="caption-text"><em>Figure 1: Examples of FOXO1A-GFP localization. <u><strong>Left:</strong></u> Cytoplasmic
localization in untreated cells. <u><strong>Right:</strong></u> Nuclear localization in
Wortmannin treated cells.
<br>
Green: <strong>GFP</strong>, Magenta: <strong>DNA</strong>.</em></span><a class="headerlink" href="#id1" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="goals-of-this-exercise">
<h2><strong>Goals of this exercise:</strong><a class="headerlink" href="#goals-of-this-exercise" title="Link to this heading">#</a></h2>
<p>In this exercise, we aim to: (1) determine this lowest possible dose
necessary to observe this effect, and (2) to optimize the analysis of
images in which FOXO1A is cytoplasmic versus nuclear, in order to
separate positive controls and negative controls as best as possible.</p>
</section>
<section id="materials-necessary-for-this-exercise">
<h2><strong>Materials necessary for this exercise:</strong><a class="headerlink" href="#materials-necessary-for-this-exercise" title="Link to this heading">#</a></h2>
<p>The images you will be analyzing were taken from cells growing in a
standard 96-well plate, but you will work with a subset of only 26 of
these images: 8 wells were left untreated (and were therefore negative
controls), 8 wells were treated with the maximum dose of the drug
Wortmannin (and were therefore positive controls), and 10 wells were
used to create a dose gradient with increasing concentration of the
drug. In addition to these images, a text file called
“Translocation_doses_and_controls.csv” is provided, containing
information about where on the 96-well plate the wells were located, and
how the cells were treated.</p>
</section>
<section id="methods-to-be-used-in-this-exercise">
<h2><strong>Methods to be used in this exercise:</strong><a class="headerlink" href="#methods-to-be-used-in-this-exercise" title="Link to this heading">#</a></h2>
<p>In this exercise, you will use CellProfiler and CellProfiler Analyst to
identify and delineate (or “segment”) each nucleus and cell body, and
extract a number of measurements from each cell. You have a total of 26
images, with approximately 200 cells per image, so you want to automate
the process of identifying and segmenting the cells. The first task is
to set up a CellProfiler <strong>pipeline</strong> consisting of a number of
individual <strong>modules</strong>; each module performs a unique image-processing
step, and multiple modules can be arranged such that they are executed
in sequential order. You will test your pipeline on a few images so that
you can optimize the settings. Once optimization is complete, you will
run the pipeline on all the images in the experiment, collect
measurements from each cell and store them in a database. At this point,
you will use CellProfiler Analyst to visualize your data, and use its
machine learning tool to train the computer to distinguish between
treated and untreated cells.</p>
</section>
<section id="exercise-i-using-the-cellprofiler-software-to-identify-features-and-obtain-measurements-from-cellular-images">
<h2>Exercise I: Using the CellProfiler software to identify features and obtain measurements from cellular images.<a class="headerlink" href="#exercise-i-using-the-cellprofiler-software-to-identify-features-and-obtain-measurements-from-cellular-images" title="Link to this heading">#</a></h2>
<section id="starting-cellprofiler-and-configuring-the-input-data-for-analysis">
<h3>1. <strong>Starting CellProfiler and configuring the input data for analysis</strong><a class="headerlink" href="#starting-cellprofiler-and-configuring-the-input-data-for-analysis" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Start CellProfiler by double-clicking the desktop icon <a class="reference internal" href="../_images/CellProfilerLogo2.png"><img alt="../_images/CellProfilerLogo2.png" src="../_images/CellProfilerLogo2.png" style="width: 35px;" /></a></p></li>
<li><p>In the CellProfiler interface, you will see the File List panel, a
blank panel indicated by the text “Drop files and folders here”. The
File list panel is the main interface of the <strong>Images</strong> module, which
compiles a list of files and/or folders that you want to analyze;
this module is highlighted in the <strong>Input</strong> modules panel which is
located at the upper-left of CellProfiler.</p></li>
<li><p>From File Explorer (Windows) or Finder (Mac), drag and drop the
“TranslocationData” folder into this panel. The names of your files
in the TranslocationData folder should now appear in the File list
panel. Double-click on “BBBC013_A01_s1_w1.tif” and
“BBBC013_A12_s1_w1.tif” to see what examples of negative and
positive GFP controls look like, respectively.</p></li>
<li><p>Scroll to the bottom of the File list and note that in addition to
the image files, there is a file called “Translocation_doses_and_controls.csv”. We only want image files to be analyzed in CellProfiler so this file needs to be removed from consideration. To do this, follow the next step.</p></li>
<li><p>Under the Module settings panel (below the File list), you will see a
control for specifying which files should be used from the above
list. Select “Images only” from the Filter Images dropdown menu.
Click on the <a class="reference internal" href="../_images/ApplyFilters.png"><img alt="../_images/ApplyFilters.png" src="../_images/ApplyFilters.png" style="width: 150px;" /></a> button to filter out the non-image files. You will see that the CSV file is then grayed-out in the list, indicating that it will not be used.</p></li>
<li><p>Click on the <strong>Metadata</strong> module, which is the second module in the
Input module panel; this module allows you to provide information
about the drug dosages and location on the plate.</p></li>
<li><p>The first extraction set up for you in the <strong>Metadata</strong> module extracts
information about the plate, well, site, and channel of each image by
parsing the file name.</p></li>
<li><p>Click the <a class="reference internal" href="Translocation/TutorialImages/ReGexCheck.png"><img alt="Translocation/TutorialImages/ReGexCheck.png" src="Translocation/TutorialImages/ReGexCheck.png" style="width: 35px;" /></a> icon to the right of the text box labeled “Regular expression”.</p>
<ul>
<li><p>A new dialog box will appear to assist in comparing the entered
regular expression against an example image filename.</p></li>
<li><p>You will see the color of the “Plate”, “Well”, “Site” and
“ChannelNumber” text match the color of the corresponding portion
in the Test text below.</p></li>
<li><p>Once finished, click the “Submit” button to use this expression in
the <strong>Metadata</strong> module.</p></li>
</ul>
</li>
<li><p>The second metadata extraction step requires you to tell CellProfiler the
location of a CSV file.  It is looking for it in CellProfiler’s Default
Input Folder, which we must therefore configure.</p>
<ul>
<li><p>This is the file describing the image names, locations in the
96-well plate, and doses.</p></li>
<li><p>Click the file selection box next to “Metadata file name” line and navigate
to the location of the TranslocationData folder on your computer, then
select the <strong>Translocation_doses_and_controls.csv</strong> file within.</p></li>
</ul>
</li>
<li><p>Return to the <strong>Metadata</strong> module and press ‘Update’. You should now see a number of
columns in the Metadata window.</p>
<ul>
<li><p>If you examine the metadata matching, you can see that  “Well”
is selected from both drop-downs under “CSV Metadata” and “Image
Metadata”. This indicates that the information stored in the CSVs
“Well” column should be matched to the well metadata values obtained
from the filename in the first extraction step.</p></li>
</ul>
</li>
<li><p>Next to the setting labeled “Metadata data type”, make sure “Choose for
each” is selected from the drop-down. For the “Dose” metadata, select “Float” as
the data type. Leave the remaining metadata at the default “Text”
values.</p></li>
<li><p>Click on the <strong>NamesAndTypes</strong> module, which is the third module in the
Input module panel; this module allows you to assign a meaningful
name to each image by which other modules will refer to it.</p></li>
<li><p>Note how the images are assigned to channels: images containing “w1” in their file name
are assigned to the name “rawGFP”, while those with “w2” are assigned “rawDNA”.</p></li>
<li><p>Click the “Update” button below the divider to display a table that
shows each channel pair matched up for the 26 wells in the assay.</p></li>
</ul>
</section>
<section id="identifying-the-nuclei-as-the-primary-objects-that-you-will-analyze">
<h3>2. <strong>Identifying the nuclei as the “primary objects” that you will       analyze</strong><a class="headerlink" href="#identifying-the-nuclei-as-the-primary-objects-that-you-will-analyze" title="Link to this heading">#</a></h3>
<p>Now that the module inputs and outputs are set up, in your module, the
remaining settings need to be adjusted to best detect the nuclei. The
most effective approach for this task is to use CellProfiler’s “Test
mode,” which will allow you to see the results of your chosen settings,
and adjust them as needed.</p>
<ul class="simple">
<li><p>Click the <a class="reference internal" href="../_images/StartTestMode.png"><img alt="../_images/StartTestMode.png" src="../_images/StartTestMode.png" style="width: 120px;" /></a> button to the bottom-left of the
CellProfiler interface. You will see <a class="reference internal" href="../_images/PauseBlack.png"><img alt="../_images/PauseBlack.png" src="../_images/PauseBlack.png" style="width: 35px;" /></a> icons appear next to the modules in the pipeline, as well as new buttons appear below the modules.</p></li>
<li><p>Click on the <a class="reference internal" href="../_images/Step1.png"><img alt="../_images/Step1.png" src="../_images/Step1.png" style="width: 120px;" /></a> button below the pipeline panel, in order to progress through each module in the pipeline, one by one. Upon stepping through the <strong>IdentifyPrimaryObjects</strong> module, a module display window will appear similar to that shown in Figure 2 below.</p></li>
</ul>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="../_images/Fig22.png"><img alt="../_images/Fig22.png" src="../_images/Fig22.png" style="width: 700px;" />
</a>
<figcaption>
<p><span class="caption-text"><em>Figure 2: Example module display window for IdentifyPrimaryObjects.</em></span><a class="headerlink" href="#id2" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>For the <strong>IdentifyPrimaryObjects</strong> module, the goal is to have the
outlines match the actual nuclei boundaries as well as possible, as well
as separating touching objects accurately. Said another way, you do not
want the program to split a single object (in this case, a single nucleus)
into multiple objects, and you do not want the program to merge multiple
objects into a single object.</p>
<p>The results of <em>IdentifyPrimaryObjects</em> are displayed in four panels in
the display window, as shown in Fig. 2:</p>
<ul class="simple">
<li><p>Upper left: The raw image, titled as “Input image, cycle #” plus the
image number</p></li>
<li><p>Upper right: A colored image of the identified and labeled objects,
titled with the object name (in this case, “Nuclei”). Note that the
colors themselves are arbitrary, intended to distinguish each
identified object from its neighbors.</p></li>
<li><p>Lower left: An image of the object outlines superimposed on the raw
image, titled with the object name. Green outlines around an object
indicate that the object has passed the selection criteria in the
module. Yellow outlines indicate that the object touches the image
edge, and has therefore been excluded. Pink outlines indicate objects
that do not pass a size criterion, and have therefore been excluded.</p></li>
<li><p>Lower right: A table of module setting values and statistics</p></li>
</ul>
<p>There are some image tools on the top toolbar that may be helpful to see
the individual objects:</p>
<a class="reference internal image-reference" href="../_images/ImageToolbar1.png"><img alt="../_images/ImageToolbar1.png" class="align-center" src="../_images/ImageToolbar1.png" style="width: 400px;" />
</a>
<br>
<p>The 1st icon from the left lets you reset the view back to the original
view.</p>
<p>The 2nd and 3rd icons let you step backwards and forwards through any
changes you made to the view.</p>
<p>The 4th icon lets you change the view by moving in any direction in the
display, by clicking and dragging.</p>
<p>The 5th icon lets you change the view by zooming, by dragging and
drawing a box to zoom in on.</p>
<p>Zoom in the image in order to see the quality of the nuclei identification.
The result may look like Figure 3.</p>
<figure class="align-center" id="id3">
<a class="reference internal image-reference" href="../_images/Fig32.png"><img alt="../_images/Fig32.png" src="../_images/Fig32.png" style="width: 700px;" />
</a>
<figcaption>
<p><span class="caption-text"><em>Figure 3: A zoomed-in view of the display window for IdentifyPrimaryObjects</em></span><a class="headerlink" href="#id3" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="improve-identification-of-primary-objects">
<h3>3. <strong>Improve identification of primary objects</strong><a class="headerlink" href="#improve-identification-of-primary-objects" title="Link to this heading">#</a></h3>
<p>In this instance, in Figure 3, you can see that the outlines capture too
much of the background around the nuclei. This means that the default
automated thresholding method calculated a threshold value that is too
low. We can correct this with a change in the thresholding method used.
Since we are in Test Mode, we can easily adjust the module settings and
quickly preview the results.</p>
<ul class="simple">
<li><p>Objects outlined in pink are outside the “Typical diameter” pixel range
specified in the pipeline. Use the “Measure Length” tool <a class="reference internal" href="../_images/MeasureLength.png"><img alt="../_images/MeasureLength.png" src="../_images/MeasureLength.png" style="width: 35px;" /></a> from
the top toolbar to determine if the size range specified is correct given
the size of your objects.</p></li>
<li><p>We can figure out why the thresholding method is overly lenient by
looking closer at the original image.</p>
<ul>
<li><p>Right-click on the “Input image, cycle #” panel in the
IdentifyPrimaryObjects display window and select “Adjust Contrast”
and then choose “Log normalized” from the drop-down list. You can adjust
“Normalization Factor” and “Maximum Brightness”, and select “Apply to all”
to apply the setting to all panels in the display window.
“Normalization Factor”, log-transform the image intensity such that
the contrast between low pixel intensities is enhanced and that between
high pixel intensities is reduced.</p></li>
</ul>
</li>
</ul>
<p>Most thresholding methods assume that there are two intensity
distributions present in the image, one of which is categorized as
foreground and the other as background; the objective is then to find a
single value that separates them. There are different methods to calculate this
intensity threshold automatically. In order to learn more about these methods,
click on the question mark icon to the right of the “Thresholding method” to
open the CellProfiler help.</p>
<p>You’ll note that the Translocation_start pipeline uses the Robust background
method initially. This method can be helpful if the majority of the image is
background. In this example, however, the nuclei cover a large percentage of
the image and Robust Background method is not the optimal choice. We recommend
selecting the Otsu method instead.</p>
<p>Now, examine your original image again. In this image, there appear to be
instead three classes of staining intensity: the bright nuclei (high
intensity), not very bright nuclei (medium intensity), and the actual background
(low intensity).
An alternative thresholding method would need to take these intensity
gradations into account in order to improve the nuclei detection.</p>
<ul class="simple">
<li><p>Click the <strong>IdentifyPrimaryObjects</strong> setting labeled “Two-class or
three-class thresholding?” and select “Three
classes.”</p></li>
<li><p>Click the <a class="reference internal" href="../_images/Step1.png"><img alt="../_images/Step1.png" src="../_images/Step1.png" style="width: 120px;" /></a> button again to see the result from your new
settings.</p></li>
<li><p>Adjust the “Threshold correction factor” to 1.</p></li>
</ul>
<p>This thresholding approach takes the medium-intensity pixels and assigns
them as foreground pixels, leaving only the lowest intensity pixels as
background. The identified outlines should now better match the actual
nuclei boundaries.</p>
</section>
<section id="identifying-the-cell-body-as-a-secondary-object-that-you-will-analyze">
<h3>4. <strong>Identifying the cell body as a “secondary object” that you will analyze</strong><a class="headerlink" href="#identifying-the-cell-body-as-a-secondary-object-that-you-will-analyze" title="Link to this heading">#</a></h3>
<p>Now that you have confirmed, by eye, that the settings we provided you
in this exercise do allow for identification and segmentation of the
nuclei, you can now find the entire cell using
<strong>IdentifySecondaryObjects</strong> module.</p>
<ul class="simple">
<li><p>Click on the <a class="reference internal" href="../_images/AddModule1.png"><img alt="../_images/AddModule1.png" src="../_images/AddModule1.png" style="width: 35px;" /></a> button and add the module <em>IdentifySecondaryObjects</em>,
which is located under the module category <em>“Object Processing”.</em> Add
it to the pipeline by clicking the <a class="reference internal" href="../_images/AddToPipeline1.png"><img alt="../_images/AddToPipeline1.png" src="../_images/AddToPipeline1.png" style="width: 160px;" /></a> button.</p></li>
<li><p>For the “Select the input image” module setting, select “rawGFP” from
the drop-down list.</p></li>
<li><p>For the “Select input objects” setting, select “Nuclei” from the
drop-down list.</p></li>
<li><p>For the “Name the objects to be identified” setting, enter “Cells” as
a descriptive name for the secondary objects.</p></li>
<li><p>Click the drop-down box next to “Threshold strategy” and select
“Global.” Then, click the drop-down next to “Thresholding method to
select “Otsu”.</p></li>
<li><p>Click the setting labeled “Two-class or three-class thresholding?”
and change it from “Two classes” to “Three classes.” Change the
setting “Assign pixels…” that subsequently appears underneath to
“Foreground”</p></li>
<li><p>Click on the <a class="reference internal" href="../_images/Step1.png"><img alt="../_images/Step1.png" src="../_images/Step1.png" style="width: 120px;" /></a> button to execute the module and see the results of secondary object identification using the module settings (Fig. 4).</p>
<ul>
<li><p>By default, secondary objects are identified with the Propagation
method, which defines cell boundaries by “growing” outwards from
the primary objects, i.e. the nuclei, and taking into account both
the distance from the nearest primary object, and the local
intensity in the GFP image.</p></li>
<li><p>Note that the pink and green outlines do not have the same meaning
as in the <em>IdentifyPrimaryObjects</em> display window. In
<em>IdentifySecondaryObjects</em>, the pink outlines indicate the
secondary object boundaries and the green outlines indicate the
primary object boundaries.</p></li>
</ul>
</li>
</ul>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="../_images/Fig42.png"><img alt="../_images/Fig42.png" src="../_images/Fig42.png" style="width: 700px;" />
</a>
<figcaption>
<p><span class="caption-text"><em>Figure 4: Example module display window for IdentifySecondaryObjects</em></span><a class="headerlink" href="#id4" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>In contrast to the DNA stain in <strong>IdentifyPrimaryObjects</strong>, the middle
intensity levels associated with the dim cells are assigned as
foreground pixels, so that the secondary objects captures both the dim
and bright cells.</p>
<p>However, for this assay, we may prefer to use a segmentation method that
reflects the actual cell boundaries and is not dependent on an intensity
that varies from treatment to treatment. We will take a look at the
Distance-N method which expands outward from the nucleus a fixed number
of pixels without regard to the underlying fluorescence.</p>
<ul class="simple">
<li><p>Change the “Select method…” setting from “Propagation” to
“Distance-N.”</p></li>
<li><p>Change the setting “Number of pixels by which to expand…” that
appears underneath to 10 pixels.</p></li>
<li><p>Click the <a class="reference internal" href="../_images/Step1.png"><img alt="../_images/Step1.png" src="../_images/Step1.png" style="width: 120px;" /></a> button to see the result from your new settings.</p></li>
</ul>
</section>
<section id="identifying-the-cytoplasm-as-a-tertiary-object">
<h3>5. <strong>Identifying the cytoplasm as a “tertiary object”</strong><a class="headerlink" href="#identifying-the-cytoplasm-as-a-tertiary-object" title="Link to this heading">#</a></h3>
<p>Once we have identified the nucleus and the cell body, these two objects
can be used to define the cell cytoplasm as the region outside the
nucleus, but within the cell boundary. We will use the
<strong>IdentifyTertiaryObjects</strong> module which will take the smaller identified
objects and “subtract” (or remove) them from the larger identified
objects, effectively identifying the cytoplasm.</p>
<ul class="simple">
<li><p>Click on the <a class="reference internal" href="../_images/AddModule1.png"><img alt="../_images/AddModule1.png" src="../_images/AddModule1.png" style="width: 40px;" /></a> button and add the module <strong>IdentifyTertiaryObjects</strong>
located under the module category <em>“Object Processing”.</em> Add it to
the pipeline by clicking the <a class="reference internal" href="../_images/AddToPipeline1.png"><img alt="../_images/AddToPipeline1.png" src="../_images/AddToPipeline1.png" style="width: 160px;" /></a> button.</p></li>
<li><p>In this module, for the “Select the larger identified objects” module setting, select “Cells” from the drop-down list.</p></li>
<li><p>For the “Select the smaller identified objects” setting, select
“Nuclei” from the drop-down list.</p></li>
<li><p>For the “Name the tertiary objects to be identified” setting, enter
“Cytoplasm” as a descriptive name for the tertiary objects.</p></li>
<li><p>Enable the ‘Shrink smaller object prior to subtraction?’ option; this
will ensure that all of your Cytoplasm objects have an area of at
least 1 pixel.</p></li>
<li><p>Click the <a class="reference internal" href="../_images/Step1.png"><img alt="../_images/Step1.png" src="../_images/Step1.png" style="width: 120px;" /></a> button to execute the module, and preview the results of tertiary object identification (Fig. 5).</p></li>
</ul>
<figure class="align-center" id="id5">
<a class="reference internal image-reference" href="../_images/Fig52.png"><img alt="../_images/Fig52.png" src="../_images/Fig52.png" style="width: 700px;" />
</a>
<figcaption>
<p><span class="caption-text"><em>Figure 5: Example module display window for IdentifyTertiaryObjects</em></span><a class="headerlink" href="#id5" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="measuring-the-cells-characteristics-i-e-the-object-features">
<h3>6. <strong>Measuring the cells’ characteristics (i.e. the “object features”)</strong><a class="headerlink" href="#measuring-the-cells-characteristics-i-e-the-object-features" title="Link to this heading">#</a></h3>
<p>Now that the objects have been identified using settings that have been
optimized for the phenotypes of interest, the next step is to make
measurements of the various cellular features. Later, we will be using
CellProfiler Analyst to classify the cells into phenotypes, based on
whether they contain cytoplasmic or nuclear FOXO1A-GFP using the
measurements collected here. The important point is to collect
measurements that would be useful for distinguishing one phenotype from
the other.</p>
<p>CellProfiler has the ability to measure many cellular characteristics,
and what we could do in this exercise, is ask it to measure all of them,
and then let the classification tool decide which features are most
useful. In this exercise, however, we will use three of the possible
measurements.</p>
<section id="measurement-of-pixel-intensity-of-gfp-in-nuclei-and-cytoplasm">
<h4><strong>Measurement of pixel intensity of GFP in nuclei and cytoplasm:</strong><a class="headerlink" href="#measurement-of-pixel-intensity-of-gfp-in-nuclei-and-cytoplasm" title="Link to this heading">#</a></h4>
<p>One example of a particularly useful measurement is the pixel intensities of
the various objects (i.e. nuclei and cytoplasm) as measured from the
images showing the subcellular location of the FOXO1A-GFP fluorescence.</p>
<ul class="simple">
<li><p>Click on the <a class="reference internal" href="../_images/AddModule1.png"><img alt="../_images/AddModule1.png" src="../_images/AddModule1.png" style="width: 35px;" /></a> button and add the module <em>MeasureObjectIntensity</em>
located under the module category <em>“Measurement”.</em> Add it to the
pipeline by clicking the <a class="reference internal" href="../_images/AddToPipeline1.png"><img alt="../_images/AddToPipeline1.png" src="../_images/AddToPipeline1.png" style="width: 160px;" /></a> button.</p></li>
<li><p>In this module, select “rawGFP” in the “Select images to measure” box, by
checking the box next to it.</p></li>
<li><p>Select “Nuclei” and “Cytoplasm” from the “Select objects to measure” box.</p></li>
</ul>
</section>
<section id="measurement-of-the-correlation-of-gfp-in-nuclei-to-dna-in-nuclei">
<h4><strong>Measurement of the correlation of GFP in nuclei to DNA in nuclei:</strong><a class="headerlink" href="#measurement-of-the-correlation-of-gfp-in-nuclei-to-dna-in-nuclei" title="Link to this heading">#</a></h4>
<p>Another potentially useful measure is the correlation within the objects
of the pixel intensities in the GFP and DNA channels. If the FOXO1A-GFP
protein is not translocated, the intensity correlation within the
nucleus between the two images would be expected to be negative, whereas
upon translocation, the correlation would be positive.</p>
<ul class="simple">
<li><p>Click on the <a class="reference internal" href="../_images/AddModule1.png"><img alt="../_images/AddModule1.png" src="../_images/AddModule1.png" style="width: 35px;" /></a> button and add the module <strong>MeasureColocalization</strong>
located under the module category <em>“Measurement”.</em> Add it to the pipeline by
clicking the <a class="reference internal" href="../_images/AddToPipeline1.png"><img alt="../_images/AddToPipeline1.png" src="../_images/AddToPipeline1.png" style="width: 160px;" /></a> button.</p></li>
<li><p>In this module, select “rawGFP” and “rawDNA” from the “Select images to measure”
box. Leave the “Set threshold as percentage of maximum intensity for the images”
to the default value of 15.0.</p></li>
<li><p>For the “Select where to measure correlation” setting, select “Within
objects” and then select “Nuclei” and “Cytoplasm” from the “Select objects to
measure” box.</p></li>
<li><p>For “Method for Costes thresholding”, choose <em>“Faster”</em> from the drop-down
list to reduce analysis time.</p></li>
</ul>
</section>
<section id="measurement-of-the-ratio-of-gfp-in-cytoplasm-to-gfp-in-nuclei-since">
<h4><strong>Measurement of the ratio of GFP in cytoplasm to GFP in nuclei:</strong> Since<a class="headerlink" href="#measurement-of-the-ratio-of-gfp-in-cytoplasm-to-gfp-in-nuclei-since" title="Link to this heading">#</a></h4>
<p>we are interested in the transportation of GFP from the cytoplasm to the
nucleus, it would be useful to measure the ratio of cytoplasmic stain to
nuclear stain. In this case, we will use the <strong>CalculateMath</strong> module
because it performs arithmetic operations between various object
measurements.</p>
<ul class="simple">
<li><p>Click on the <a class="reference internal" href="../_images/AddModule1.png"><img alt="../_images/AddModule1.png" src="../_images/AddModule1.png" style="width: 35px;" /></a> button and add the module <strong>CalculateMath</strong> located under
the <em>“Data Tools”</em> module category*.* Add it to the pipeline by
clicking the <a class="reference internal" href="../_images/AddToPipeline1.png"><img alt="../_images/AddToPipeline1.png" src="../_images/AddToPipeline1.png" style="width: 160px;" /></a> button.</p></li>
<li><p>For the “Name the output measurement,” enter the “IntensityRatio” as
a descriptive name.</p></li>
<li><p>Since we calculating a ratio of two measures, select “Divide” from
the drop-down for the “Operation” setting.</p></li>
<li><p>For the numerator measurement:</p>
<ul>
<li><p>Select “Object” for the “Select the numerator type,” and select
“Nuclei” from the drop-down for the “Select the numerator
objects.”</p></li>
<li><p>Select “Intensity” from the drop-down for the “Select the
numerator measurement” category. A “Measurement” drop-down box
will subsequently appear underneath.</p></li>
<li><p>Select “MeanIntensity” from the “Measurement” drop-down list. Then
select “rawGFP” from the “Image” drop-down that appears.</p></li>
</ul>
</li>
<li><p>For the denominator measurement:</p>
<ul>
<li><p>Select “Object” for the “Select the numerator type,” and select
“Cytoplasm” from the drop-down for the “Select the
numerator objects.”</p></li>
<li><p>Select “Intensity” from the drop-down for the “Select the
numerator measurement” category. A “Measurement” drop-down box
will subsequently appear underneath.</p></li>
<li><p>Select “MeanIntensity” from the “Measurement” drop-down list. Then
select “rawGFP” from the “Image” drop-down that appears.</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="creating-an-image-with-your-cell-and-nuclear-outlines-on-it-optional">
<h3>7. <strong>Creating an image with your cell and nuclear outlines on it (optional)</strong><a class="headerlink" href="#creating-an-image-with-your-cell-and-nuclear-outlines-on-it-optional" title="Link to this heading">#</a></h3>
<p>It’s often nice to create an image showing the segmentation of your
objects so that you can refer back to it later; in addition to the
ability to quickly scan all the output images to make sure your
segmentation was successful, you can re-check them later in case you
have questions about an unusual result.</p>
<section id="creation-of-a-color-image-to-display-the-segmentation">
<h4><strong>Creation of a color image to display the segmentation:</strong><a class="headerlink" href="#creation-of-a-color-image-to-display-the-segmentation" title="Link to this heading">#</a></h4>
<ul class="simple">
<li><p>Click on the <a class="reference internal" href="../_images/AddModule1.png"><img alt="../_images/AddModule1.png" src="../_images/AddModule1.png" style="width: 35px;" /></a> button and add the module <strong>GrayToColor</strong> located under
the <em>“Image Processing”</em> module category*.* Add it to the pipeline
by clicking the <a class="reference internal" href="../_images/AddToPipeline1.png"><img alt="../_images/AddToPipeline1.png" src="../_images/AddToPipeline1.png" style="width: 160px;" /></a> button.</p></li>
<li><p>For the “Select a color scheme”, leave the setting at “RGB”.</p></li>
<li><p>For the channels</p>
<ul>
<li><p>“Set the image to be colored red” set to “Leave this black”.</p></li>
<li><p>“Set the image to be colored green” set to “rawGFP”.</p></li>
<li><p>“Set the image to be colored blue” set to “rawDNA”.</p></li>
</ul>
</li>
<li><p>“Name the output image” can be set to “GFPandDNA” .</p></li>
<li><p>“Relative weight”s for each of the channels can be left at 1.</p></li>
</ul>
</section>
<section id="overlaying-the-outlines-onto-the-color-image">
<h4><strong>Overlaying the outlines onto the color image:</strong><a class="headerlink" href="#overlaying-the-outlines-onto-the-color-image" title="Link to this heading">#</a></h4>
<p>This module will overlay the outlines of your identified objects onto the color image. You may choose whatever color you like to show the outlines, but you may
find it easiest to use something that contrasts with your color image. You may also overlay outlines on a grayscale image; if you have many types of objects and/or more than 3 channels it is often easier to overlay the objects for each channel onto that channel’s grayscale image and simply view them one at a time.</p>
<ul class="simple">
<li><p>Click on the <a class="reference internal" href="../_images/AddModule1.png"><img alt="../_images/AddModule1.png" src="../_images/AddModule1.png" style="width: 35px;" /></a> button and add the module <strong>OverlayOutlines</strong> located
under the <em>“Image Processing”</em> module category. Add it to the
pipeline by clicking the <a class="reference internal" href="../_images/AddToPipeline1.png"><img alt="../_images/AddToPipeline1.png" src="../_images/AddToPipeline1.png" style="width: 160px;" /></a> button.</p></li>
<li><p>“Display outlines on a blank image” should be set to “No”.</p></li>
<li><p>The “Select image on which to display outlines” should be set to the
“GFPandDNA” image we created in the last step.</p></li>
<li><p>“Name the output image” can be set to “CellAndNucleiOverlay” or some
other descriptive name.</p></li>
<li><p>The “Outline display mode” dropdown menu should be left at “Color”.</p></li>
<li><p>“How to outline” can be left at the default (Inner).</p></li>
<li><p>For “Select objects to display” select “Nuclei” from the dropdown
menu.</p></li>
<li><p>“Select outline color” can be left as red or set to some other
contrasting color.</p></li>
<li><p>Click the “Add another outline” button, then repeat the previous 3
steps for “Cells”; you should select a different color for the
outlines.</p></li>
</ul>
</section>
<section id="saving-the-overlay-image">
<h4><strong>Saving the overlay image:</strong><a class="headerlink" href="#saving-the-overlay-image" title="Link to this heading">#</a></h4>
<p>The <strong>SaveImages</strong> module can be used to either save images generated in any step of the pipeline or masks of the objects created. Here we will save the images to the DefaultOutput folder, but you can specify any other location, and additionally create subfolders based on the extracted metadata if you like.</p>
<ul class="simple">
<li><p>Click on the <a class="reference internal" href="../_images/AddModule1.png"><img alt="../_images/AddModule1.png" src="../_images/AddModule1.png" style="width: 35px;" /></a> button and add the module <strong>SaveImages</strong> located under the
<em>“File processing”</em> module category*.* Add it to the pipeline by
clicking the <a class="reference internal" href="../_images/AddToPipeline1.png"><img alt="../_images/AddToPipeline1.png" src="../_images/AddToPipeline1.png" style="width: 160px;" /></a> button.</p></li>
<li><p>For “Select the type of image to save”, select “Image”.</p></li>
<li><p>For “Select the image to save”, select your “CellAndNucleiOverlay”
image you just created.</p></li>
<li><p>For “Select method for constructing file names”, keep it set at “From
image filename”.</p></li>
<li><p>For “Select image name for file prefix”, select the “rawGFP” image.</p></li>
<li><p>Change the “Append a suffix to the image file name?” radio buttons to
“Yes”.</p></li>
<li><p>Give the “Text to append to the image name” a descriptive name;
“_Overlay” is appropriate.</p></li>
<li><p>All the other settings may be left at their default values.</p></li>
</ul>
</section>
</section>
<section id="exporting-the-measurements-to-a-database">
<h3>8. <strong>Exporting the measurements to a database</strong><a class="headerlink" href="#exporting-the-measurements-to-a-database" title="Link to this heading">#</a></h3>
<p>Since we will be using the data visualization and machine learning tools
in CellProfiler Analyst, the measurements will need to be saved to a
database using the <strong>ExportToDatabase</strong> module in order for CellProfiler
Analyst to access them.</p>
<ul class="simple">
<li><p>Click on the <a class="reference internal" href="../_images/AddModule1.png"><img alt="../_images/AddModule1.png" src="../_images/AddModule1.png" style="width: 35px;" /></a> button and add the module <strong>ExportToDatabase</strong> located
under the module category <em>“File Processing”.</em> Add it to the pipeline
by clicking the <a class="reference internal" href="../_images/AddToPipeline1.png"><img alt="../_images/AddToPipeline1.png" src="../_images/AddToPipeline1.png" style="width: 160px;" /></a> button.</p>
<ul>
<li><p>Note that while in Test mode, the <strong>ExportToDatabase</strong> module will
have a yellow warning sign in the pipeline panel and yellow-
highlighted text in the module settings. Holding the mouse over
the yellow-highlighted text informs the user that measurements
produced in Test mode are not written to the database. This is
normal behavior and does not indicate an error.</p></li>
</ul>
</li>
<li><p>Select “Database type” as “SQLite.”</p></li>
<li><p>Check the box labeled “Create a CellProfiler Analyst properties
file.” A number of new settings will subsequently appear underneath.</p></li>
<li><p>For “Which objects should be used for locations?”, select “Nuclei”.</p></li>
<li><p>For “Select the plate type”, choose “96.”</p></li>
<li><p>For “Select the plate metadata,” choose “Plate.”</p></li>
<li><p>For “Select the well metadata,” choose “Well.”</p></li>
<li><p>For “Output file location”, select “Default Output Folder”.</p></li>
<li><p>Check the box “Write image thumbnails directly to database?” From the
list-box that subsequently appears, select “rawDNA” and “rawGFP”; you
can make multiple selections by using Ctrl-click (Windows) or
Command-click (Mac). Leave the rest of the settings at the default
values.</p></li>
</ul>
</section>
<section id="using-the-optimized-pipeline-to-automatically-analyze-all-images-generated-by-the-screening-experiment">
<h3>9. <strong>Using the optimized pipeline to automatically analyze all images generated by the screening experiment</strong><a class="headerlink" href="#using-the-optimized-pipeline-to-automatically-analyze-all-images-generated-by-the-screening-experiment" title="Link to this heading">#</a></h3>
<p>At this point, the settings you have entered were chosen for you because
those settings specifically, when used with these images, result in an
optimized pipeline for a suitable number of images. Therefore your
pipeline is now ready to run on the full data set of 26 images.</p>
<ul class="simple">
<li><p>Exit Test Mode by clicking the “Exit Test Mode” button at the
bottom-left of the CellProfiler interface.</p></li>
<li><p>Click the “View output settings” button at the bottom-left of the
interface. Then, in the module settings panel, click the folder
button to the right of “Default Output Folder” box, and browse to
select your Desktop. This location is where your CellProfiler
measurements will be saved.</p></li>
<li><p>Select the “Window” item from the menu bar and select “Hide all
windows on run;” the <em>“eyeball”</em> icons next to the modules will switch
from open (<a class="reference internal" href="../_images/EyeOpen1.png"><img alt="../_images/EyeOpen1.png" src="../_images/EyeOpen1.png" style="width: 35px;" /></a>) to closed (<a class="reference internal" href="../_images/EyeClosed1.png"><img alt="../_images/EyeClosed1.png" src="../_images/EyeClosed1.png" style="width: 35px;" /></a>). This display indicates that the module
display windows for each module will not be shown as each is
processed. The rationale behind this step is because the pipeline is
optimized, we no longer need to see the results. Additionally, the
analysis will be quicker this way, since CellProfiler does not have
to take the time to create and draw each window.</p></li>
<li><p>Save your pipeline by selecting <em>File &gt; Save Project As…</em>, give the
pipeline a name and save it to your Desktop.</p></li>
<li><p>To analyze all images, click “Analyze images” button in the lower
right corner of the CellProfiler interface.</p>
<ul>
<li><p>(Windows only) A Windows Security Alert box may pop up asking for
network access permission for CellProfiler.exe. Check the “Private
networks” box, then click “Allow access”.</p></li>
</ul>
</li>
</ul>
<p>The pipeline will run beginning with the first of 26 images. This full
run may take a few minutes.</p>
</section>
</section>
<section id="exercise-ii-using-the-cellprofiler-analyst-software-to-visualize-the-data-from-the-experiment-and-classify-the-cells-exposed-to-each-drug-condition-by-their-phenotype-foxo1a-gfp-subcellular-localization">
<h2>Exercise II: Using the CellProfiler Analyst software to visualize the data from the experiment, and classify the cells exposed to each drug condition by their phenotype (FOXO1A-GFP subcellular localization)<a class="headerlink" href="#exercise-ii-using-the-cellprofiler-analyst-software-to-visualize-the-data-from-the-experiment-and-classify-the-cells-exposed-to-each-drug-condition-by-their-phenotype-foxo1a-gfp-subcellular-localization" title="Link to this heading">#</a></h2>
<p>You can now start CellProfiler Analyst (CPA) to explore the data you
have extracted from the cells.</p>
<ul class="simple">
<li><p>Start CellProfiler Analyst by double-clicking the icon on the desktop <a class="reference internal" href="../_images/CPAlogo.png"><img alt="../_images/CPAlogo.png" src="../_images/CPAlogo.png" style="width: 35px;" /></a>.</p></li>
<li><p>When CPA is started, it will ask to select a <em>properties file</em>.
Select the properties file named <em>DefaultDB .properties</em>, located in
the Default Output Folder. The properties file was created by the
<strong>ExportToDatabase</strong> module in your pipeline.</p>
<ul>
<li><p>This file is a text file that contains the settings necessary for
CPA to connect to the database that CellProfiler generated.</p></li>
<li><p>As a reminder, this database currently contains the measurement
data obtained from all 26 images, and pointers to the location of
those images on your hard drive.</p></li>
<li><p>If you move the database file, you’ll need to edit the properties file
to point to the new database location.</p></li>
</ul>
</li>
</ul>
<section id="visualizing-the-measurements-in-a-96-well-plate-layout-view">
<h3>1. <strong>Visualizing the measurements in a 96-well plate layout view</strong><a class="headerlink" href="#visualizing-the-measurements-in-a-96-well-plate-layout-view" title="Link to this heading">#</a></h3>
<p>CPA has several tools available for displaying the data for exploration.
If your data came from a multi-well plate, such as the 96-well plate for
this particular translocation assay, then one of the most useful data
visualization tools available is the plate layout format.</p>
<ul class="simple">
<li><p>Click on the Plate Viewer icon in the main CPA window (<a class="reference internal" href="../_images/Inline09.png"><img alt="../_images/Inline09.png" src="../_images/Inline09.png" style="width: 50px;" /></a>, 3rd from the left).
This selection brings up a 96-well formatted display of the plate
from which your images originated. The colored squares represent
wells for which measurement data is present; crossed-out wells
indicate wells with no measurements. Notice that 26 out of the 96
wells have data associated with them. Mouse over a few of the wells
to see a “tool-tip” box appear, which states the actual per-well
value.</p></li>
<li><p>The initial color coding represents the image index, a bookkeeping
measurement which is not relevant for the level of analysis that we
are doing in this exercise. Under the <em>Measurements</em> drop-down list,
choose <em>“Image_Metadata_Dose”</em> from the list, in order to visualize
the drug concentrations added to each well. In particular, take note
of the following:</p>
<ul>
<li><p>Column 1, rows A-D, column 12, rows E-H and well E02: Negative
controls, i.e., no drug added</p></li>
<li><p>Column 1, rows E-H and column 12, rows A-D: Positive controls,
i.e., 150 nM Wortmannin</p></li>
<li><p>Row E, columns 2-11: Nine doses of 2-fold dilutions of Wortmannin,
increasing from left to right.</p></li>
</ul>
</li>
</ul>
<figure class="align-center" id="id6">
<a class="reference internal image-reference" href="../_images/Fig62.png"><img alt="../_images/Fig62.png" src="../_images/Fig62.png" style="width: 500px;" />
</a>
<figcaption>
<p><span class="caption-text"><em>Figure 6: The Plate Viewer visualization tool illustrating the drug dosages applied to the plate.</em></span><a class="headerlink" href="#id6" title="Link to this image">#</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>Select “<em>Image_Count_Nuclei”</em> from the <em>Measurement</em> drop-down to
show the nuclei count for each image.</p></li>
<li><p>Per-object measurements can also be displayed using this tool. Select
“Per-object” as the Data Source, and
“<em>Cytoplasm_Math_IntensityRatio”</em> as the Measurement. Since each
well can display only one value, but there are multiple objects per
well, the Plate Viewer displays an aggregate statistic of the
per-object measurements for each well. (Note that you can change the
statistic used, at this step, by selecting it from the “Aggregation
method” drop-down in the “Data aggregation” panel.)</p></li>
<li><p>In this step, you will see how the image thumbnails can also be shown
in the viewer. To do this, under “Well display” in the “View options”
panel, select “thumbnail.” The colored well squares will be replaced
with merged color thumbnails of the original images.</p></li>
<li><p>In order to see that the original images are linked to the well
display, you should right-click on a well and select the image number
corresponding to the image of interest, in order to display the full
image. (Note that the default color for each channel can be changed
by selecting the desired colors in the menu bar; any changes will be
applied to subsequent images that you open.)</p></li>
<li><p>Lastly, you will view the thumbnail montages by right-clicking on a
well and selecting “Show thumbnail montage” from the resulting
pop-up. Move the thumbnail by dragging the bar on top of the image.
Click on the thumbnail image to dismiss it from view. (Note that, if
there had been multiple snapshots of multiple fields of view for each
well in the plate, then the montage would be shown as a tiled display.)</p></li>
<li><p>Do not close the Plate Viewer tool, as you will be referring to it
later in the exercise.</p></li>
</ul>
</section>
<section id="using-the-classifier-function-of-cpa-to-distinguish-the-cells-foxo1a-gfp-subcellular-localization-phenotypes">
<h3>2. <strong>Using the Classifier function of CPA to distinguish the cells’ FOXO1A-GFP subcellular localization phenotypes</strong><a class="headerlink" href="#using-the-classifier-function-of-cpa-to-distinguish-the-cells-foxo1a-gfp-subcellular-localization-phenotypes" title="Link to this heading">#</a></h3>
<p>CellProfiler Analyst contains a machine-learning classification tool,
which will allow you to distinguish different phenotypes automatically.
In this case, we will “train” the classifier to recognize cells in which
FOXO1A-GFP is located exclusively in the nucleus (“positives”) versus
outside the nucleus (“negatives”) by sorting examples of each into bins.</p>
<ul class="simple">
<li><p>Select the <em>Classifier</em> icon in the main CPA window (<a class="reference internal" href="../_images/Inline10.png"><img alt="../_images/Inline10.png" src="../_images/Inline10.png" style="width: 50px;" /></a>, 2nd on left). The
Classifier interface will appear, similar to that shown in the top of
Fig. 7.</p></li>
<li><p>Click on the “Fetch!” button, which instructs CPA to display pictures
of a specified number (i.e. 20) of randomly selected cells from this
experiment. You will see the middle “unclassified” panel start to be
populated with thumbnail images of these randomly selected cells.</p></li>
<li><p>Use your mouse to “drag &amp; drop” whichever cells you consider clearly
positive (i.e. FOXO1A-GFP located exclusively in the nucleus) into
the “positive” bin. See the bottom-left panel of Fig. 7 for examples
of positive cells.</p>
<ul>
<li><p>A small dot is displayed in the center of each thumbnail image as
your mouse hovers over it. The cell that falls under this dot is
the cell to “drag &amp; drop” which will be used for classification.</p></li>
<li><p>You can also select cells in the unclassified bin using the arrow
keys and assign them to bins with the number keys. E.g. Pressing
‘1’ would send any selected cells to the first bin (‘positive’ here).</p></li>
</ul>
</li>
</ul>
<figure class="align-center">
<a class="reference internal image-reference" href="../_images/Fig7a.png"><img alt="../_images/Fig7a.png" src="../_images/Fig7a.png" style="width: 700px;" />
</a>
</figure>
<figure class="align-center" id="id7">
<a class="reference internal image-reference" href="../_images/Fig7b.png"><img alt="../_images/Fig7b.png" src="../_images/Fig7b.png" style="width: 700px;" />
</a>
<figcaption>
<p><span class="caption-text"><strong>Examples of positive cells</strong>              <strong>Examples of negative cells</strong></span><a class="headerlink" href="#id7" title="Link to this image">#</a></p>
<div class="legend">
<p>Figure 7: <u><strong>Top:</strong></u> The Classifier interface showing 5 positive and 5
negative cells. Thirty unclassified cells remain and are ready for
sorting. <u><strong>Bottom:</strong></u> <em>Examples of positive cells (left) and negative cells
(right).</em></p>
</div>
</figcaption>
</figure>
<ul class="simple">
<li><p>Now “drag &amp; drop” whichever cells you consider clearly negative (i.e.
FOXO1A-GFP located exclusively in the cytoplasm) into the “negative”
bin. See the bottom-right panel of Fig. 7 for examples of negative
cells.</p></li>
<li><p>Once you have at least 5 cells in the positive bin and 5 cells in the
negative bin, change the classifier from ‘Random Forest’ to ‘Fast
Gentle Boosting’ and click the “Train Classifier” button. If you did
not receive 5 clearly positive &amp; 5 clearly negative cells, in the
first batch of 20 randomly selected cells you received, then hit the
“Fetch!” button again, until you receive enough cells to be able to
put 5 in each bin.</p>
<ul>
<li><p>Note that in this portion of the exercise, the cell images that
are provided to you are a random sampling of the data. Thus,
depending on which cell images are allocated to you, your sorting
into these two bins will take varying amounts of time.
Subsequently, the results of this portion of the exercise will not
look the same from user to user.</p></li>
<li><p>We refer to this set of positive and negative cells you have
assembled as the “training set.”</p></li>
</ul>
</li>
</ul>
</section>
<section id="reviewing-the-rules-that-cpa-established-based-on-your-training-set-to-classify-positive-and-negative-cells">
<h3>3. <strong>Reviewing the rules that CPA established (based on your training set) to classify positive and negative cells</strong><a class="headerlink" href="#reviewing-the-rules-that-cpa-established-based-on-your-training-set-to-classify-positive-and-negative-cells" title="Link to this heading">#</a></h3>
<p>The classification rules you will examine below are CPA’s way of
defining the measurements (and the cutoff values the measurements need
to have) in order to distinguish the positive from the negative
phenotypes.</p>
<ul class="simple">
<li><p>Read the text that is now located in the text box in the upper half
of the Classifier window. This text contains the rules CPA found
based on the training set you provided to it.</p>
<ul>
<li><p>Each rule is in the form an “IF” statement evaluating whether a
measurement is greater than some value.</p></li>
<li><p>The closer to the top of the list a measurement appears, the more
significant it is in distinguishing the phenotypes.</p></li>
<li><p>Note that this rule display is only available with the
‘FastGentleBoosting’ classifier type. Other classifier types will
list the most important features used by the model (if
supported by the classifier type).</p></li>
</ul>
</li>
<li><p>Questions to consider: (1) What is the top-most measurement that
shows up in your classification rules? (2) Is the top-most
measurement one that you would expect to be the most significant one
to use in distinguishing the phenotypes?</p></li>
</ul>
</section>
<section id="reviewing-the-accuracy-of-the-classification-with-the-confusion-matrix">
<h3>4. <strong>Reviewing the accuracy of the classification with the confusion matrix</strong><a class="headerlink" href="#reviewing-the-accuracy-of-the-classification-with-the-confusion-matrix" title="Link to this heading">#</a></h3>
<p>Once you have trained a classifier, you can test the ability of the of
the classification rules to predict which class each cell in your
training set belongs to. CPA does this by taking each cell in the
training set, using its measurements and the rules generated in training
to ‘guess’ whether it should be positive or negative, then comparing
that answer with the bin you actually placed it in. The accuracy of
these predictions can be graphed in a matrix with the ‘True label’ (the
bin you assigned) on the Y axis and the ‘Predicted label’ (CPA’s guess)
on the X axis.</p>
<ul class="simple">
<li><p>Press the ‘Evaluate’ button to generate a confusion matrix for the
cells you’ve classified so far. How accurate is your classification
after adding only a few cells to your training set?</p></li>
</ul>
<p>Note that the confusion matrix is NOT a measure of how accurate the
classifier will be on your whole data set, simply a measure of <em>how well
the classifier performs on your hand-picked examples</em>. As your data is
likely more complicated than just the few cells you’ve chosen to train
on, you shouldn’t stop at this point even if you have a perfect
correlation matrix - you need to see how your classifier will perform on
more data before you can decide whether it’s accurate enough to score
the whole experiment.</p>
<figure class="align-center" id="id8">
<a class="reference internal image-reference" href="../_images/Fig82.png"><img alt="../_images/Fig82.png" src="../_images/Fig82.png" style="width: 900px;" />
</a>
<figcaption>
<p><span class="caption-text"><em>Figure 8: Examples of confusion matrices from a poorly-trained (left)
and well-trained (right) classifier. The cells in the classifier on the
left were assigned to bins of the training set at random, making it very
difficult to come up with good rules to separate the classes; nearly 50%
of each class is predicted incorrectly. The cells in the classifier on
the right have been assigned to the correct bins, allowing the
classifier to find rules that accurately predict which class the cells
belong to. While the cells in this simple example were able to be
predicted perfectly, that is rare in real data.</em></span><a class="headerlink" href="#id8" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="refining-the-training-set-by-sorting-more-unclassified-cells-into-the-positive-and-negative-bins">
<h3>5. <strong>Refining the training set by sorting more “unclassified” cells into the “positive” and “negative” bins</strong><a class="headerlink" href="#refining-the-training-set-by-sorting-more-unclassified-cells-into-the-positive-and-negative-bins" title="Link to this heading">#</a></h3>
<p>At this point, it is important to keep in mind that the CPA Classifier
tool will pick whichever measurement is most significant in making its
determination of positive versus negative (whether or not that
measurement happens to be a physiologically relevant characteristic in
the mind of the user).</p>
<p>For example, at this point (after only sorting 5 positive &amp; 5 negative
cells), you may notice measurements called <em>“Object_Number”</em> (the
object number of each cell) or <em>“Nuclei_Location_Center”</em> (the cell
position in the image) included in the classification rules. This
indicates that the classifier is not well-trained, since these
measurements are not correlated with the phenotype we want to find.
Whenever you find that the classifier is not well-trained, you need to
either add more cells to the training set, or obtain more measurements
from the cells.</p>
<p><strong>Refining the training set by obtaining samples from positive and
negative control wells:</strong> Sometimes the phenotype of interest is
uncommon enough, that fetching 20 random images will not result in the
retrieval of many clear examples of the phenotype you are looking for.
However, if you know which images contain examples of the phenotype, you
can open the image - either by double-clicking a cell thumbnail, or
from the <em>Plate Viewer</em> (if you know the location of the well). You can
then drag-and-drop the cells of interest directly from the image.</p>
<ul class="simple">
<li><p>Open the <em>Plate Viewer</em> and double-click on well A01, in order to
open an image from the negative controls.</p></li>
<li><p>Click on a cell in the image that is negative for the phenotype and
drag-and-drop it into the negative bin. Repeat this for 5 negative
cells.</p></li>
<li><p>Repeat the above two steps for A12 (a well containing a positive
control sample), dropping the cells into the positive bin. Do this
for 5 positive cells.</p></li>
<li><p>Click the “Train classifier” button.</p></li>
</ul>
<p><strong>Refining the training set by correcting misclassified cells in an
image:</strong> You may also apply the rules to all the identified cells in an
image, and use it to correct misclassifications.</p>
<ul class="simple">
<li><p>Double-click any of cell thumbnails in the positive or negative bins.</p></li>
<li><p>From the image that opens, click “Classify” from the menu, then
“Classify Image”.</p></li>
<li><p>The cells will be color-coded according to their classification based
on the current rules.</p>
<ul>
<li><p>Click the “Show controls &gt;&gt;” button at the bottom to reveal the
total counts of each class on the image. On Windows computers this
will also show which color corresponds to which class.</p></li>
<li><p>On Macs, select “View” from the image menu, and then select “View
cell classes as numbers.” Then, to see what each number means,
click the “Show controls &gt;&gt;” button at the bottom to reveal the
numbered class list.</p></li>
</ul>
</li>
<li><p>Look for up to 5 cells that are clearly misclassified. For each of
these cells that you find, click on it and drag-and-drop it into the
appropriate bin.</p></li>
<li><p>Click the “Train classifier” button.</p></li>
</ul>
<section id="refining-the-training-set-by-fetching-positive-and-negative-cells">
<h4><strong>Refining the training set by fetching positive and negative cells:</strong><a class="headerlink" href="#refining-the-training-set-by-fetching-positive-and-negative-cells" title="Link to this heading">#</a></h4>
<p>You now have your initial training set, and the rules that define the
computer’s first attempt at distinguishing the phenotype. Therefore you
can now request that the computer fetch more examples of positive and
negative cells. These new sample cells can be added to the corresponding
bins, in order to improve the classifier’s performance, with respect to
distinguishing the FOXO1A-GFP subcellular localization phenotypes.</p>
<ul class="simple">
<li><p>Change the number next to the word “Fetch” from “20” to “5”. Click on
the drop-down box labeled “random” in the fetch controls. Select
“positive” from the drop-down list.</p></li>
<li><p>Click the “Fetch!” button to retrieve samples of what the computer
thinks are positive cells based on the current set of rules. Refine
your training set by doing the following:</p>
<ul>
<li><p>If positive cells are correctly fetched (true positives), drag and
drop them into the positive bin.</p></li>
<li><p>If negative cells are incorrectly fetched (false positives), drag
and drop them into the negative bin.</p></li>
</ul>
</li>
</ul>
<p>As with previous steps, if you are not sure about which bin a cell
belongs to, do not add it to the training set. Instead, click to select
these ambiguous cells, and then press the “Delete” key to remove them
from the analysis.</p>
<p>Repeat this step until you have at least 20 cells in each bin.</p>
<ul class="simple">
<li><p>Click the “Train classifier” button.</p></li>
<li><p>Questions to consider: (1) What is the top-most rule that shows up in
your classification rules? (2) Is the top-most rule a measurement
that you would expect to be the most significant one to use, in
distinguishing the phenotypes?</p></li>
</ul>
<p>Whatever approach you choose to obtain more positive and negative cells,
the procedure is the same: (i) Find rules; (ii) Obtain more cell samples
of the desired phenotype; (iii) Correct misclassifications, or sort into
appropriate bins; (iv) Go back to the first step and repeat, until the
classifier displays the desired level of accuracy.</p>
</section>
</section>
<section id="classifying-all-cells-in-the-experiment">
<h3>6. <strong>Classifying all cells in the experiment</strong><a class="headerlink" href="#classifying-all-cells-in-the-experiment" title="Link to this heading">#</a></h3>
<p>Once the classifier is of the desired accuracy, it is ready to be
applied to the complete image data set.</p>
<ul class="simple">
<li><p>Press the “Score all” button. A dialog box will appear with scoring
options; click “OK” to accept the default settings and begin scoring.
Every cell in every image will now be scored as positive or negative
by the classifier you built.</p></li>
</ul>
<p>A “Hit table” window will appear containing the summarized scores for
every image (Fig. 9). The total cell count is reported, as well as the
number of positive and negative cells classified. The last column is the
enrichment score.</p>
<ul class="simple">
<li><p>Click on the column header labeled “Enriched Score positive.” (You
can resize the hit table window, if this column is not visible).
Clicking this header will sort the rows in ascending or descending
order, according to the enrichment scores. Sort the column values so
the order is descending, with the highest score at top.</p></li>
<li><p>Double-click on the asterisk in the first row to the left of the
first column (“ImageNumber”) to display the corresponding image for
the top-scoring well.</p></li>
</ul>
<figure class="align-center" id="id9">
<a class="reference internal image-reference" href="../_images/Fig92.png"><img alt="../_images/Fig92.png" src="../_images/Fig92.png" style="width: 800px;" />
</a>
<figcaption>
<p><span class="caption-text"><em>Figure 9: Hit table showing the cell counts and enrichment scores.</em></span><a class="headerlink" href="#id9" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>You can also save your training set and/or classifer model for future
reference or to make changes later; do so by going to <em>File &gt; Save
Training Set</em> or <em>File &gt; Save Classifier Model</em></p>
</section>
<section id="saving-the-scores-to-the-measurement-database-for-visualization">
<h3>7. <strong>Saving the scores to the measurement database for visualization</strong><a class="headerlink" href="#saving-the-scores-to-the-measurement-database-for-visualization" title="Link to this heading">#</a></h3>
<p>Now that we have successfully scored our experiment, we will save the
scores back to the measurement database, so that they can be visualized
using CPA’s tools.</p>
<ul class="simple">
<li><p>Select the “Hit table” window and click “File” from the menu, then
“Save table to database.” When prompted for a name, enter “HitTable”.
Select “save permanently” when prompted.</p></li>
<li><p>Select Plate Viewer from the CPA interface, then choose “*OTHER
TABLE*” from “Data source.”</p></li>
<li><p>When prompted to select a table, choose “HitTable.”</p></li>
<li><p>At the next prompt, select “per-well” as the table type. Then select
the matching columns in order to link the table of hits to the table
of image measurements, by doing the following:</p>
<ul>
<li><p>On the first row, choose “<em>PlateID</em>” on the left to match
“<em>Image_Metadata_Plate</em>” on the right.</p></li>
<li><p>On the second row, choose “<em>Image_Metadata_Well</em>” on the
left to match “<em>Image_Metadata_Well</em>” on the right.</p></li>
</ul>
</li>
<li><p>Open a new Plate Viewer tool from the main CPA window. On the Plate Viewer,
select “<em>pEnriched_positive”</em> from the <em>Measurement</em> drop-down
list in order to view the enrichment scores in the plate layout.</p></li>
<li><p>Refer to the previous Plate Viewer display of
<em>“Image_Metadata_Dose</em>” from section 2A. Consider the following
questions: (1) How well does the layout of the
“<em>pEnriched_positive</em>” values match the layout of the (i)
positive and negative control wells and (ii) the 9-point dose wells
of “<em>Image_Metadata_Dose</em>”? (2) What does this correspondence
(or lack thereof) tell you about the classifier?</p></li>
</ul>
</section>
<section id="plotting-the-scoring-results-to-estimate-the-lowest-dose-necessary-to-induce-fox1o-gfp-translocation">
<h3>8. <strong>Plotting the scoring results, to estimate the lowest dose necessary to induce FOX1O-GFP translocation</strong><a class="headerlink" href="#plotting-the-scoring-results-to-estimate-the-lowest-dose-necessary-to-induce-fox1o-gfp-translocation" title="Link to this heading">#</a></h3>
<p>You can use additional data tools in CPA to visualize your data in other
ways. In this case, we will use a scatter plot to plot a dose-response
curve. This will allow us to see how the ratio of positive cells (i.e.
cells with GFP in the nucleus) increases with Wortmannin dose.</p>
<ul class="simple">
<li><p>Click the Scatter Plot icon in the main CPA window <a class="reference internal" href="../_images/Inline11.png"><img alt="../_images/Inline11.png" src="../_images/Inline11.png" style="width: 50px;" /></a> (4th from left).</p></li>
<li><p>From the “x-axis” row, select “<em>Per_image</em>” and
“<em>Image_Metadata_Dose</em>” from the drop-down lists. Choose
“<em>log</em>” from the “Scale” drop-down.</p></li>
<li><p>From the “y-axis” row, select “<em>HitTable</em>” and
“<em>pEnriched_positive</em>” from the drop-down-lists.</p></li>
<li><p>Click the “Update chart” button to see the scatter plot. NOTE: due to
a bug in CPA, if you have plot the graph once in “<em>linear</em>” scale
mode and then try to switch to “<em>log</em>” scale an error will be
thrown. If you want to look at both, open two separate scatter plots.</p></li>
<li><p>In the space below, record your questions to the following questions:
(1) What is the enrichment score (<em>pEnriched_positive</em>) that
corresponds to the highest dose (<em>Image_Metadata_Dose</em>) in the
experiment? (There are several points corresponding to the highest
dose, so estimate the average enrichment score) (2) What is the
lowest dose that produces an enrichment score similar to that of the
maximum dose?</p></li>
</ul>
</section>
<section id="exporting-your-classifier-for-use-in-a-cellprofiler-pipeline">
<h3>9. <strong>Exporting your classifier for use in a CellProfiler pipeline</strong><a class="headerlink" href="#exporting-your-classifier-for-use-in-a-cellprofiler-pipeline" title="Link to this heading">#</a></h3>
<p>Head back to the Classifier tool. The <em>File–&gt;Save Classifier Model</em> menu
option can be used to export a .model file which stores the trained
classifier for use in other software.</p>
<ul class="simple">
<li><p>Within CellProfiler 4+, the <em>ClassifyObjects</em> and <em>FilterObjects</em> modules
can load these model files and use them to assign objects to classes
during the pipeline itself. This allows you to classify new data sets
without needing to train in CellProfiler Analyst again.</p></li>
<li><p>Note that to use model files in CellProfiler, the pipeline needs to produce
the same measurements that were present in your CPA database during
training. These measurements must be captured before the module which will
use your model.</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="to-learn-more-about-cellprofiler-please-see-our-website">
<h2><strong>To learn more about CellProfiler, please see our website:</strong><a class="headerlink" href="#to-learn-more-about-cellprofiler-please-see-our-website" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Download CellProfiler and CellProfiler Analyst from the
“Download” links on
<a class="reference external" href="https://cellprofiler.org/">https://cellprofiler.org/</a> and <a class="reference external" href="https://cellprofileranalyst.org/">https://cellprofileranalyst.org/</a>, and install
according to the instructions from the download page. This webpage
also provides tutorials and example pipelines.</p></li>
<li><p>Visit the Scientific Community Image Forum at <a class="reference external" href="https://forum.image.sc/">https://forum.image.sc/</a> to find
answers to common questions and ask for help if needed.</p></li>
<li><p>Video tutorials that may be helpful are available on the Center for Open
Bioimage Analysis YouTube channel:
<a class="reference external" href="https://www.youtube.com/channel/UC_id9sE-vu_i30Bd-skay7Q/">https://www.youtube.com/channel/UC_id9sE-vu_i30Bd-skay7Q/</a>.</p></li>
<li><p>Download sample images and the text file of experimental parameters
used in this exercise from
<a class="reference external" href="https://cellprofiler-examples.s3.amazonaws.com/TranslocationData.zip/">https://cellprofiler-examples.s3.amazonaws.com/TranslocationData.zip/</a>.
(The images were kindly provided through the Broad Bioimage Benchmark
Collection at <a class="reference external" href="http://www.broadinstitute.org/bbbc/BBBC013/">http://www.broadinstitute.org/bbbc/BBBC013/</a>)</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Translocation"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#background-information"><strong>Background information:</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#goals-of-this-exercise"><strong>Goals of this exercise:</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#materials-necessary-for-this-exercise"><strong>Materials necessary for this exercise:</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#methods-to-be-used-in-this-exercise"><strong>Methods to be used in this exercise:</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-i-using-the-cellprofiler-software-to-identify-features-and-obtain-measurements-from-cellular-images">Exercise I: Using the CellProfiler software to identify features and obtain measurements from cellular images.</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#starting-cellprofiler-and-configuring-the-input-data-for-analysis">1. <strong>Starting CellProfiler and configuring the input data for analysis</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identifying-the-nuclei-as-the-primary-objects-that-you-will-analyze">2. <strong>Identifying the nuclei as the “primary objects” that you will       analyze</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#improve-identification-of-primary-objects">3. <strong>Improve identification of primary objects</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identifying-the-cell-body-as-a-secondary-object-that-you-will-analyze">4. <strong>Identifying the cell body as a “secondary object” that you will analyze</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#identifying-the-cytoplasm-as-a-tertiary-object">5. <strong>Identifying the cytoplasm as a “tertiary object”</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#measuring-the-cells-characteristics-i-e-the-object-features">6. <strong>Measuring the cells’ characteristics (i.e. the “object features”)</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#measurement-of-pixel-intensity-of-gfp-in-nuclei-and-cytoplasm"><strong>Measurement of pixel intensity of GFP in nuclei and cytoplasm:</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#measurement-of-the-correlation-of-gfp-in-nuclei-to-dna-in-nuclei"><strong>Measurement of the correlation of GFP in nuclei to DNA in nuclei:</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#measurement-of-the-ratio-of-gfp-in-cytoplasm-to-gfp-in-nuclei-since"><strong>Measurement of the ratio of GFP in cytoplasm to GFP in nuclei:</strong> Since</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-an-image-with-your-cell-and-nuclear-outlines-on-it-optional">7. <strong>Creating an image with your cell and nuclear outlines on it (optional)</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#creation-of-a-color-image-to-display-the-segmentation"><strong>Creation of a color image to display the segmentation:</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#overlaying-the-outlines-onto-the-color-image"><strong>Overlaying the outlines onto the color image:</strong></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#saving-the-overlay-image"><strong>Saving the overlay image:</strong></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exporting-the-measurements-to-a-database">8. <strong>Exporting the measurements to a database</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-optimized-pipeline-to-automatically-analyze-all-images-generated-by-the-screening-experiment">9. <strong>Using the optimized pipeline to automatically analyze all images generated by the screening experiment</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-ii-using-the-cellprofiler-analyst-software-to-visualize-the-data-from-the-experiment-and-classify-the-cells-exposed-to-each-drug-condition-by-their-phenotype-foxo1a-gfp-subcellular-localization">Exercise II: Using the CellProfiler Analyst software to visualize the data from the experiment, and classify the cells exposed to each drug condition by their phenotype (FOXO1A-GFP subcellular localization)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualizing-the-measurements-in-a-96-well-plate-layout-view">1. <strong>Visualizing the measurements in a 96-well plate layout view</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-classifier-function-of-cpa-to-distinguish-the-cells-foxo1a-gfp-subcellular-localization-phenotypes">2. <strong>Using the Classifier function of CPA to distinguish the cells’ FOXO1A-GFP subcellular localization phenotypes</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reviewing-the-rules-that-cpa-established-based-on-your-training-set-to-classify-positive-and-negative-cells">3. <strong>Reviewing the rules that CPA established (based on your training set) to classify positive and negative cells</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reviewing-the-accuracy-of-the-classification-with-the-confusion-matrix">4. <strong>Reviewing the accuracy of the classification with the confusion matrix</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#refining-the-training-set-by-sorting-more-unclassified-cells-into-the-positive-and-negative-bins">5. <strong>Refining the training set by sorting more “unclassified” cells into the “positive” and “negative” bins</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#refining-the-training-set-by-fetching-positive-and-negative-cells"><strong>Refining the training set by fetching positive and negative cells:</strong></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#classifying-all-cells-in-the-experiment">6. <strong>Classifying all cells in the experiment</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#saving-the-scores-to-the-measurement-database-for-visualization">7. <strong>Saving the scores to the measurement database for visualization</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting-the-scoring-results-to-estimate-the-lowest-dose-necessary-to-induce-fox1o-gfp-translocation">8. <strong>Plotting the scoring results, to estimate the lowest dose necessary to induce FOX1O-GFP translocation</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exporting-your-classifier-for-use-in-a-cellprofiler-pipeline">9. <strong>Exporting your classifier for use in a CellProfiler pipeline</strong></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#to-learn-more-about-cellprofiler-please-see-our-website"><strong>To learn more about CellProfiler, please see our website:</strong></a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Broad Institute Imaging Platform
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>